---
title: "R Markdown and Git/GitHub"
author: "MACSS 30500 <br /> University of Chicago"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    nature:
      highlightStyle: magula
      highlightLines: true
      highlightLanguage: r
      ratio: 16:9
      countIncrementalSlides: false
---

```{r setup, include = FALSE}
# generate CSS file
library(xaringanthemer)
style_duo_accent(
  primary_color = "#011f4b",
  secondary_color = "#bbd6c7",
  inverse_header_color = "#222222",
  black_color = "#222222",
  header_font_google = xaringanthemer::google_font("Atkinson Hyperlegible"),
  text_font_google = xaringanthemer::google_font("Atkinson Hyperlegible"),
  code_font_google = xaringanthemer::google_font("Source Code Pro"),
  base_font_size = "24px",
  code_font_size = "20px",
  # title_slide_background_image = "https://github.com/uc-dataviz/course-notes/raw/main/images/hexsticker.svg",
  # title_slide_background_size = "contain",
  # title_slide_background_position = "top",
  header_h1_font_size = "2rem",
  header_h2_font_size = "1.75rem",
  header_h3_font_size = "1.5rem",
  extra_css = list(
    "h1" = list(
      "margin-block-start" = "0.4rem",
      "margin-block-end" = "0.4rem"
    ),
    "h2" = list(
      "margin-block-start" = "0.4rem",
      "margin-block-end" = "0.4rem"
    ),
    "h3" = list(
      "margin-block-start" = "0.4rem",
      "margin-block-end" = "0.4rem"
    ),
    ".tiny" = list("font-size" = "70%"),
    ".small" = list("font-size" = "90%"),
    ".midi" = list("font-size" = "150%"),
    ".tiny .remark-code" = list("font-size" = "70%"),
    ".small .remark-code" = list("font-size" = "90%"),
    ".midi .remark-code" = list("font-size" = "150%"),
    ".large" = list("font-size" = "200%"),
    ".xlarge" = list("font-size" = "600%"),
    ".huge" = list(
      "font-size" = "400%",
      "font-family" = "'Montserrat', sans-serif",
      "font-weight" = "bold"
    ),
    ".hand" = list(
      "font-family" = "'Gochi Hand', cursive",
      "font-size" = "125%"
    ),
    ".task" = list(
      "padding-right" = "10px",
      "padding-left" = "10px",
      "padding-top" = "3px",
      "padding-bottom" = "3px",
      "margin-bottom" = "6px",
      "margin-top" = "6px",
      "border-left" = "solid 5px #F1DE67",
      "background-color" = "#F3D03E"
    ),
    ".pull-left" = list(
      "width" = "49%",
      "float" = "left"
    ),
    ".pull-right" = list(
      "width" = "49%",
      "float" = "right"
    ),
    ".pull-left-wide" = list(
      "width" = "70%",
      "float" = "left"
    ),
    ".pull-right-narrow" = list(
      "width" = "27%",
      "float" = "right"
    ),
    ".pull-left-narrow" = list(
      "width" = "27%",
      "float" = "left"
    ),
    ".pull-right-wide" = list(
      "width" = "70%",
      "float" = "right"
    ),
    ".blue" = list(color = "#2A9BB7"),
    ".purple" = list(color = "#a493ba"),
    ".yellow" = list(color = "#f1de67"),
    ".gray" = list(color = "#222222")
  )
)

source(here::here("R", "slide-opts.R"))
xaringanExtra::use_panelset()
knitr::opts_chunk$set(
  echo = FALSE
)
```

```{r pkgs, include = FALSE, cache = FALSE}
library(tidyverse)
library(rcis)
library(gapminder)
library(countdown)
library(here)
library(ymlthis)

set.seed(1234)
theme_set(theme_minimal(base_size = rcis::base_size))
```


class: inverse, middle

# Git and GitHub review
See the assigned readings for more

---

## Git and GitHub

Generally used together, but not the same thing (see [here](https://computing-soc-sci.netlify.app/faq/what-are-git-github/) for more):

* **Git:** version control system used to track changes in repositories (which are like folders in a project) over time

* **GitHub:** cloud-based hosting service that hosts and lets you manage your Git repositories (is where you store / distribute repositories)

```{r echo = FALSE, out.width = "35%"}
include_graphics(path = "https://res.cloudinary.com/practicaldev/image/fetch/s--7MQClrRp--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7ce4oq75sia6ni6q46s3.png")
```
---

## General Git workflow

Common steps to memorize:

  * Make changes locally (your machine or Workbench) to your files
  * Save your changes locally
  * Pull-Stage-Commit-Push: 
    * Pull from GitHub (this is like "refreshing" your copy of the files on your machine, especially important when you collaborate with others)
    * Stage and Commit your changes to your local Git repo
    * Push your changes online to GitHub

While 99% of the time you will use Git to add, commit, push, and pull, there are many more Git Commands. After this class you will gain enough exposure to Git to be able to quickly learn new commands and become an expert Git user. 
  
---

## Git Reminders

**Stage and Commit often:** think of it as of taking a photo of everything to document where you are in your project; for example, I save, stage and commit, multiple times during a work session

**When you commit, type a meaningful message** to remind yourself (and others) what has changed in your file: keep the message short; there are several tips online if you search for "commit message best practice", we won't be picky as long as your message is informative

**Push also often, but possibly less often than you commit:** people vary on this, some push every time they commit, others wait and push several commits at once

**There are several interfaces to work with Git:** in this class we use the integrated RStudio interface; other popular options are GitHub desktop and the terminal/shell (we will learn how to use Git from the terminal toward the end of the course)


---

## What to commit / not to commit

**What files to commit:**

* Source files (code, README, etc.)
* Markdown files
* Data files

**What files to not commit:**

* Temporary files
* Log files
* Files with private details
* Any file greater than 100 megabytes

--

`.gitignore`

* It is a system file that tells Git which files/directories to ignore
* Examples of gitignore files [here](https://github.com/github/gitignore): look for the gitignore file for R (standard file that will take care of most of your needs)
* For more info to create a .gitignore file see [here](https://www.w3schools.com/git/git_ignore.asp?remote=github)


---

## Git LFS

What if I have a large file I want to track with Git?

* See [Git Large File Storage](https://git-lfs.github.com/)
* This is a separate software for tracking large files
* Integrates with Git
* Generally charges a fee

---

## Git and merge conflicts

Typically these occur when you haven't pulled before pushing changes in a collaborative project. 

If you work alone on a given repo this is less relevant, unless you modify a file directly from GitHub (which is not a good practice!).

When you have a merge conflict there are two 'current' versions of a file and they need to be reconciled: 
* sometimes they can be automatically resolved
* sometimes you have to solve them manually (review the code side-by-side and confirm the changes)


---

## Avoiding (most) Git problems

1. Change your file locally, then stage and commit them (early and often)
1. Push regularly to GitHub
1. Pull before you push

To test your understanding and for further practice using Git with the integrated R Studio Git GUI, complete the ["Using Git with RStudio"](https://computing-soc-sci.netlify.app/setup/git/git-with-rstudio/) tutorial on our course website

---

## Burn it all down

```{r echo = FALSE, out.width = "35%"}
include_graphics(path = "https://imgs.xkcd.com/comics/git.png")
```

.footnote[Source: [xkcd](https://xkcd.com/1597/)]


---

class: inverse, middle

# R Markdown
See the assigned readings for more

---

